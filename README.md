# Практические задания по SQL и Pandas

## Содержание
1. [Упражнение 00: Выборка данных](#упражнение-00-выборка-данных)
2. [Упражнение 01: Подзапросы](#упражнение-01-подзапросы)
3. [Упражнение 02: Объединение таблиц](#упражнение-02-объединение-таблиц)
4. [Упражнение 03: Агрегация данных](#упражнение-03-агрегация-данных)
5. [Упражнение 04: A/B-тестирование](#упражнение-04-ab-тестирование)

---

### Упражнение 00: Выборка данных
**Файл:** `ex00_first_select.ipynb`

**Выполнено:**
- Установлено соединение с базой данных SQLite
- Получена схема таблицы pageviews
- Извлечены первые 10 строк для ознакомления с данными
- Создана отфильтрованная выборка:
  - Только столбцы uid и datetime
  - Только пользовательские данные (user_*)
  - Сортировка по uid в возрастающем порядке
  - Индекс - столбец datetime
  - Преобразование datetime в DatetimeIndex

---

### Упражнение 01: Подзапросы
**Файл:** `ex01_subquery.ipynb`

**Выполнено:**
- Установлено соединение с базой данных
- Изучена структура таблицы checker
- Посчитано количество строк, удовлетворяющих условиям:
  - status = 'ready'
  - numTrials = 1
  - labnames из списка: 'laba04', 'laba04s', 'laba05', 'laba06', 'laba06s', 'project1'
  - Пользователи из таблицы checker

---

### Упражнение 02: Объединение таблиц
**Файл:** `ex02_joins.ipynb`

**Выполнено:**
- Создана таблица datamart объединением таблиц pageviews и checker
- Структура таблицы:
  - uid, labname, first_commit_ts, first_view_ts
  - Фильтрация по status = 'ready' и numTrials = 1
  - Только пользовательские данные
- Созданы две группы:
  - test: пользователи с данными о первом просмотре
  - control: пользователи без данных о первом просмотре
- Заполнение пропущенных значений в control средним значением из test
- Сохранение таблиц в базу данных

---

### Упражнение 03: Агрегация данных
**Файл:** `ex03_aggs.ipynb`

**Выполнено:**
- Найдено минимальное значение разницы между первым коммитом и дедлайном
- Найдено максимальное значение разницы
- Рассчитано среднее значение разницы
- Исключен проект 'project1' как выброс
- Построена таблица для анализа корреляции:
  - uid, avg_diff, pageviews
- Рассчитан коэффициент корреляции между количеством просмотров и разницей во времени

---

### Упражнение 04: A/B-тестирование
**Файл:** `ex04_ab-test.ipynb`

**Выполнено:**
- Проведено A/B-тестирование гипотезы о влиянии Newsfeed на поведение студентов
- Созданы датафреймы test_results и control_results:
  - Столбцы: time (after/before), avg_diff
  - Рассчитана средняя разница до и после первого просмотра Newsfeed
- Проанализировано влияние страницы Newsfeed на время начала работы над заданиями
- Сделаны выводы об эффективности нововведения

---
Примечание: проект выполнен в рамках заданий Школы 21. Readme было изменено.
